const movies = {
    'all': [
        {
        'title': 'The Shawshank Redemption',
        'year': '1994',
        'rating': '9.3',
        'director': 'Frank Darabont',
        'description': 'Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.'
        },
        {
        'title': 'The Godfather',
        'year': '1972',
        'rating': '9.2',
        'director': 'Francis Ford Coppola',
        'description': 'The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.'
        },
        {
        'title': 'The Godfather: Part II',
        'year': '1974',
        'rating': '9.0',
        'director': 'Francis Ford Coppola',
        'description': 'The early life and career of Vito Corleone in 1920s New York City is portrayed, while his son, Michael, expands and tightens his grip on the family crime syndicate.'
        },
        {
        'title': 'The Dark Knight',
        'year': '2008',
        'rating': '9.0',
        'director': 'Christopher Nolan',
        'description': 'When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.' 
        },
        {
        'title': '12 Angry Men',
        'year': '1957',
        'rating': '9.0',
        'director': 'Sidney Lumet',
        'description': 'A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence.'
        }
    ],
    'action': [
        {
        'title': 'The Dark Knight',
        'year': '2008',
        'rating': '9.0',
        'director': 'Christopher Nolan',
        'description': 'When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.' 
        },
        {
        'title': 'The Lord of the Rings: The Return of the King',
        'year': '2003',
        'rating': '8.9',
        'director': 'Peter Jackson',
        'description': 'Gandalf and Aragorn lead the World of Men against Sauron\'s army to draw his gaze from Frodo and Sam as they approach Mount Doom with the One Ring.'
        },
        {
        'title': 'The Mountain II',
        'year': '2016',
        'rating': '8.8',
        'director': 'Alper Caglar',
        'description': 'In a desolate war zone where screams of the innocent echo, seven Maroon Berets will dance with death on the very line between disaster and valor.'
        },
        {
        'title': 'Inception',
        'year': '2010',
        'rating': '8.8',
        'director': 'Christopher Nolan',
        'description': 'A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.'
        },
        {
        'title': 'The Lord of the Rings: The Fellowship of the Ring ',
        'year': '2001',
        'rating': '8.8',
        'director': 'Peter Jackson',
        'description': 'A meek Hobbit from the Shire and eight companions set out on a journey to destroy the powerful One Ring and save Middle-earth from the Dark Lord Sauron.'
        }
    ],
    
    'drama': [
        {
        'title': 'Hababam Sinifi',
        'year': '1975',
        'rating': '9.3',
        'director': 'Ertem Egilmez',
        'description': 'Lazy, uneducated students share a very close bond. They live together in the dormitory, where they plan their latest pranks. When a new headmaster arrives, the students naturally try to overthrow him. A comic war of nitwits follows.'
        },
        {
        'title': 'The Shawshank Redemption',
        'year': '1994',
        'rating': '9.3',
        'director': 'Frank Darabont',
        'description': 'Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.'
       },
       {
        'title': 'The Godfather',
        'year': '1972',
        'rating': '9.2',
        'director': 'Francis Ford Coppola',
        'description': 'The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.'
       },
       {
        'title': 'The Godfather: Part II',
        'year': '1974',
        'rating': '9.0',
        'director': 'Francis Ford Coppola',
        'description': 'The early life and career of Vito Corleone in 1920s New York City is portrayed, while his son, Michael, expands and tightens his grip on the family crime syndicate.'
       }, 
       {
        'title': '12 Angry Men',
        'year': '1957',
        'rating': '9.0',
        'director': 'Sidney Lumet',
        'description': 'A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence.'
       }
    ],
    'comedy': [
        {
        'title': 'Parasite',
        'year': '2019',
        'rating': '8.6',
        'director': 'Bong Joon Ho',
        'description': 'Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan.'
       },
       {
        'title': 'Life Is Beautiful',
        'year': '1997',
        'rating': '8.6',
        'director': 'Roberto Benigni',
        'description': 'When an open-minded Jewish librarian and his son become victims of the Holocaust, he uses a perfect mixture of will, humor, and imagination to protect his son from the dangers around their camp.'
       },
       {
        'title': 'The Intouchables',
        'year': '2011',
        'rating': '8.5',
        'director': 'Olivier Nakache',
        'description': 'After he becomes a quadriplegic from a paragliding accident, an aristocrat hires a young man from the projects to be his caregiver.'
       },
       {
        'title': 'Back to the Future',
        'year': '1985',
        'rating': '8.5',
        'director': 'Robert Zemeckis',
        'description': 'Marty McFly, a 17-year-old high school student, is accidentally sent thirty years into the past in a time-traveling DeLorean invented by his close friend, the eccentric scientist Doc Brown.'
       },
       {
        'title': 'Modern Times',
        'year': '1936',
        'rating': '8.5',
        'director': 'Charles Chaplin',
        'description': 'The Tramp struggles to live in modern industrial society with the help of a young homeless woman.'
       }
    ],
    'western': [    
       {
        'title': 'The Good, the Bad and the Ugly',
        'year': '1966',
        'rating': '8.8',
        'director': 'Sergio Leone ',
        'description': 'A bounty hunting scam joins two men in an uneasy alliance against a third in a race to find a fortune in gold buried in a remote cemetery.'
       },
       {
        'title': 'Once Upon a Time in the West',
        'year': '1968',
        'rating': '8.5',
        'director': 'Sergio Leone',
        'description': 'A mysterious stranger with a harmonica joins forces with a notorious desperado to protect a beautiful widow from a ruthless assassin working for the railroad.'
       },
       {
        'title': 'Django Unchained',
        'year': '2012',
        'rating': '8.4',
        'director': 'Quentin Tarantino',
        'description': 'With the help of a German bounty hunter, a freed slave sets out to rescue his wife from a brutal Mississippi plantation owner.'
       },
       {
        'title': 'For a Few Dollars More',
        'year': '1965',
        'rating': '8.3',
        'director': 'Sergio Leone',
        'description': 'Two bounty hunters with the same intentions team up to track down a Western outlaw.'
       },
       {
        'title': 'Unforgiven',
        'year': '1992',
        'rating': '8.2',
        'director': 'Clint Eastwood',
        'description': 'Retired Old West gunslinger William Munny reluctantly takes on one last job, with the help of his old partner Ned Logan and a young man, The "Schofield Kid."'
       }
    ],
    'romance': [    
        {
         'title': 'Forrest Gump',
         'year': '1994',
         'rating': '8.8',
         'director': 'Robert Zemeckis',
         'description': 'The presidencies of Kennedy and Johnson, the events of Vietnam, Watergate and other historical events unfold through the perspective of an Alabama man with an IQ of 75, whose only desire is to be reunited with his childhood sweetheart.'
        },
        {
         'title': 'Casablanca',
         'year': '1942',
         'rating': '8.5',
         'director': 'Michael Curtiz',
         'description': 'A cynical American expatriate struggles to decide whether or not he should help his former lover and her fugitive husband escape French Morocco.'
        },
        {
         'title': 'City Lights',
         'year': '1931',
         'rating': '8.5',
         'director': 'Charles Chaplin',
         'description': 'With the aid of a wealthy erratic tippler, a dewy-eyed tramp who has fallen in love with a sightless flower girl accumulates money to be able to help her medically.'
        },
        {
         'title': 'Your Name.',
         'year': '2016',
         'rating': '8.4',
         'director': 'Makoto Shinkai',
         'description': 'Two strangers find themselves linked in a bizarre way. When a connection forms, will distance be the only thing to keep them apart?'
        },
        {
         'title': 'Eternal Sunshine of the Spotless Mind',
         'year': '2004',
         'rating': '8.3',
         'director': 'Michel Gondry',
         'description': 'When their relationship turns sour, a couple undergoes a medical procedure to have each other erased from their memories.'
        }
    ],
    'horror': [    
        {
         'title': 'Psycho',
         'year': '1960',
         'rating': '8.5',
         'director': 'Alfred Hitchcock',
         'description': 'A Phoenix secretary embezzles $40,000 from her employer\'s client, goes on the run, and checks into a remote motel run by a young man under the domination of his mother.'
        },
        {
         'title': 'The Shining',
         'year': '1980',
         'rating': '8.4',
         'director': 'Stanley Kubrick',
         'description': 'A family heads to an isolated hotel for the winter where a sinister presence influences the father into violence, while his psychic son sees horrific forebodings from both past and future.'
        },
        {
         'title': 'Alien',
         'year': '1979',
         'rating': '8.4',
         'director': 'Ridley Scott',
         'description': 'After a space merchant vessel receives an unknown transmission as a distress call, one of the crew is attacked by a mysterious life form and they soon realize that its life cycle has merely begun.'
        },
        {
         'title': 'Tumbbad',
         'year': '2018',
         'rating': '8.3',
         'director': 'Rahi Anil Barve',
         'description': 'A mythological story about a goddess who created the entire universe. The plot revolves around the consequences when humans build a temple for her first-born.'
        },
        {
         'title': 'The Blue Elephant',
         'year': '2014',
         'rating': '8.1',
         'director': 'Marwan Hamed',
         'description': 'The story of Dr. Yehia, a psychotherapist at Al Abbasia hospital. He works in the department treating the criminally insane, only to find his best friend to be one of the patients. Trying to help his friend he finds himself going down the rabbit hole.'
        }
    ]
};


const main = document.querySelector('.main__container');
const navBtn = document.querySelectorAll('.navbar__item');
const genres = ['action', 'drama', 'comedy', 'western', 'romance', 'horror'];

render('all');

navBtn.forEach(function (btn,i){
    btn.addEventListener('click', function(){
        render(genres[i]);
    })
});

function render(genre){

    if (main.hasChildNodes()){
        main.firstChild.remove();
    }

    let filmCards = document.createElement('div');
    filmCards.className="main__genre";
    
    movies[genre].forEach( function(film,index){

        let filmData = document.createElement('div');
        let filmDescr = document.createElement('p');
        let card = document.createElement('div');
        let cover = document.createElement('img');
        let title = document.createElement('h2');
        let year = document.createElement('p');
        let rating = document.createElement('p')
        let descr = document.createElement('p');
        let director = document.createElement('p');
        
        cover.setAttribute('src',`./images/${genre+index}.jpg`);
        cover.setAttribute('alt', 'cover');

        filmDescr.className = 'film__descr';
        cover.className ='film__cover film__cover-active';
        title.className ='film__title';
        year.className ='film__year';
        rating.className ='film__rating';
        director.className ='film__director';  
        filmData.className='film__data film__data-active';
        
        title.textContent=`${film['title']}`;
        year.textContent=`year: ${film['year']}`;
        rating.textContent=`imdb: ${film['rating']}`;
        filmDescr.textContent=`${film['description']}`;
        director.textContent = `${film['director']}`;
        
        filmData.appendChild(title);
        filmData.appendChild(year);
        filmData.appendChild(rating);
        filmData.appendChild(director);
        card.appendChild(cover);
        card.appendChild(filmData);
        card.appendChild(filmDescr);    
        card.className='main__item';
        filmCards.appendChild(card);

        card.addEventListener('click', function() {
            filmDescr.classList.toggle('film__descr-active');
            cover.classList.toggle('film__cover-active');
            filmData.classList.toggle('film__data-active');
         })
    });
    
    main.appendChild(filmCards);
}
